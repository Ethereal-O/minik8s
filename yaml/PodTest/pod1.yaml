kind: Pod
metadata:
  name: Pod1
  labels:
    app: myApp
spec:
  nodeSelector:
    role: worker
  containers:
    - name: nginx
      image: dplsming/nginx-fileserver:1.0
      ports:
        - containerPort: 80
          hostPort: 8888
      volumeMounts:
        - name: upload
          mountPath: /usr/share/nginx/html/files
    - name: curl
      image: nginx:1.23.2
      volumeMounts:
        - name: upload
          mountPath: /usr/share/nginx/html/files
    - name: stress
      image: polinux/stress:1.0.4
      limits:
        cpu: "0.5" # 0.5 CPU core
      args: [ "stress", "--cpu", "1" ]
      # Attempt to use 1 CPU core, but can only use 0.5 CPU core
  volumes:
    - name: upload
      type: hostPath
      path: /home/os/minik8s/upload